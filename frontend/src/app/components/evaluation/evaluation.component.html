<div class="row">
  <div class="col-md-4">
    <div class="card">
      <div class="card-header">
        <img src="../../../assets/img/users.png" class="img-fluid" alt="avatar">
        <hr>
        <h3>Instrucciones <i class="fas fa-exclamation-circle"></i></h3>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Deserunt, nobis sapiente dolorum dolorem fuga,
          quasi illo minima non temporibus delectus inventore hic accusantium excepturi tempora soluta quos nostrum
          obcaecati nesciunt.</p>
        <ul>
          <li>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum, doloremque.
          </li>
          <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Et, quisquam. Eius odit consequuntur omnis nemo.
          </li>
          <li>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repudiandae libero inventore eos eaque.</li>
        </ul>
      </div>
    </div>
  </div>
  
  <div class="col-md-8">
    <form (submit)="onSubmit()">
      <div class="card">
        <div class="card-header">
          <h3>Datos personales</h3>
          <div class="form-group pt-4">
            <div class="row">
              <div class="col">
                <input [(ngModel)]="user.rut" type="text" class="form-control" name="txtRur" placeholder="Ingrese rut" required>
              </div>
              <div class="col">
                <input type="text" [(ngModel)]="user.age" class="form-control" name="txtAge" placeholder="Ingrese edad" required>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col">
                <input type="text" [(ngModel)]="user.firstName" class="form-control" name="txtfirstName" placeholder="Ingrese nombre"
                required>
              </div>
              <div class="col">
                <input type="text" [(ngModel)]="user.middleName" class="form-control" name="txtMiddleName" placeholder="Ingrese segundo nombre"
                required>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col">
                <input type="text" [(ngModel)]="user.lastName" class="form-control" name="txtLastName" placeholder="Ingrese apellido paterno"
                required>
              </div>
              <div class="col">
                <input type="text" [(ngModel)]="user.middleLastName" class="form-control" name="txtMiddleLastName" placeholder="Ingrese apellido materno"
                required>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col">
                <select [(ngModel)]="patient_data.prevition" name="dlPrevition" class="form-control">
                  <option disabled selected>-- Seleccione previsión--</option>
                  <option *ngFor="let option of previtions">{{option}}</option>
                </select>
              </div>
              <div class="col">
                <input type="text" [(ngModel)]="user.phone" class="form-control" name="txtPhone" placeholder="Ingrese teléfono de contacto"
                  required>
              </div>
            </div>
          </div>
          <div class="form-group">
            <input type="text" [(ngModel)]="user.email" class="form-control" name="txtEmail" placeholder="Ingrese e-mail" required>
          </div>
          <div class="form-group">
            <input type="text" [(ngModel)]="user.address" class="form-control" name="txtAddress" placeholder="Ingrese dirección" required>
          </div>
          <div class="form-group">
            <div class="row justify-content-md-center">
              <div class="col-md-auto">
                <div class="custom-control custom-radio custom-control-inline">
                  <input value="Male" [(ngModel)]="user.gender" type="radio" id="customRadioInline2" name="customRadioInline1"
                    class="custom-control-input">
                  <label class="custom-control-label" for="customRadioInline2">Masculino</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                  <input value="Female" [(ngModel)]="user.gender" type="radio" id="customRadioInline1" name="customRadioInline1"
                    class="custom-control-input">
                  <label class="custom-control-label" for="customRadioInline1">Femenino</label>
                </div>
              </div>
            </div>
          </div>
          <hr>
          <h3>Evaluación</h3>
          <section>
            <div class="form-group pt-4">
              <div class="row">
                <div class="col">
                  <textarea [(ngModel)]="evaluation.anamnesis" name="txtAnamnesis" class="form-control" placeholder="Anamnesis y examen físico" rows="3"></textarea>
                </div>
                <div class="col">
                  <textarea [(ngModel)]="evaluation.complementStudies" name="txtComplementStudies" class="form-control" placeholder="Estudios complementarios" rows="3"></textarea>
                </div>
              </div>
  
            </div>
            <div class="form-group">
              <div class="row">
                <div class="col">
                  <textarea [(ngModel)]="evaluation.hypothesis" name="txtHypothesis" class="form-control" placeholder="Hipotesis kinesica" rows="3"></textarea>
                </div>
                <div class="col">
                  <textarea [(ngModel)]="evaluation.treatment_plan" name="txtTreatment_plan" class="form-control" placeholder="Plan de tratamiento" rows="3"></textarea>
                </div>
              </div>
            </div>
          </section>
          <hr>
          <h3>Tratamiento</h3>
          <section>
            <div class="form-group">
              <textarea [(ngModel)]="treatment.diagnostic" name="txtDiagnostic" class="form-control" rows="3"
                placeholder="Ingrese diagnostico del paciente"></textarea>
            </div>
            <div class="form-group">
              <div class="row justify-content-between">
                <div class="col-5">
                  <input [(ngModel)]="treatment.sessions" name="txtSessions" type="number" class="form-control" placeholder="Número de sesiones">
                </div>
              </div>
            </div>
            <div class="form-group">
              <div class="row">
                <div class="col-md-3 offset-md-6">
                  <button (click)="redirect()" class="sky btn btn-smoke"><i class="fas fa-home"></i>  Home</button>
                </div>
                <div class="col-md-3">
                  <button type="submit" class="raise btn btn-smoke"><i class="fas fa-save"></i>  Guardar</button>
                </div>
              </div>
              
            </div>
          </section>
        </div>
      </div>
    </form>
    
  </div>
</div>

<!--ALERT MODAL-->
<div class="backdrop" [ngStyle]="{'display':warningDisplay}"></div>
<div class="modal animated fadeInDown" [ngStyle]="{'display':warningDisplay}" id="warning-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm modal-dialog-centered">
    <div class="modal-content bg-warning">
      <div class="modal-body text-center">
        <h3 class="mb-15"><i class="fa fa-exclamation-triangle"></i> Precaución</h3>
        <p>Esta acción no se puede revertir. Porfavor, presione el botón finalizar solo si todos los datos estan correctos.</p>
          <div class="row">
            <div class="col-6">
              <button type="button" class="smoke btn btn-smoke" (click)="closeWarning()" data-dismiss="modal"><i class="fas fa-undo"></i> Volver</button>
            </div>
            <div class="col-6">
              <button type="button" class="smoke btn btn-smoke" (click)="addData()" data-dismiss="modal"><i class="fas fa-check-circle"></i> Finalizar</button>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>
<!--SUCCESS MODAL-->
<div class="backdrop" [ngStyle]="{'display':successDisplay}"></div>
<div class="modal animated fadeInDown" [ngStyle]="{'display':successDisplay}" id="success-modal" tabindex="-1"
  role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-body text-center font-18">
        <h3 class="mb-20">Correcto!</h3>
        <div class="mb-30 text-center"><img src="../../../assets/success.png"></div>
        Usted ha generado un nuevo tratamiento para este paciente. Ahora puede agendar sus sesiones respectivas.
      </div>
      <div class="modal-footer container">
          <div class="row">
              <div class="col-auto">
                <button type="button" class="sky btn btn-smoke" (click)="redirect()"><i class="fas fa-home"></i> Home</button>
              </div>
              <div class="col-auto">
                <button type="button" class="raise btn btn-smoke" (click)="closeSuccess()"><i class="fas fa-calendar-plus"></i> Agendar sesiones</button>
              </div>
          </div>
      </div>
    </div>
  </div>
</div>